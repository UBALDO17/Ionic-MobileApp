<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Game</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css" />
    <link rel="stylesheet" href="math-app.css">
</head>

<body>
    <ion-app>

        <ion-tabs>
            <ion-tab tab="home">
                <ion-nav id="home-nav"></ion-nav>
                <div id="home-page">
                    <ion-header>
                        <ion-toolbar class="custom-toolbar">
                            <ion-title>Math Game</ion-title>
                        </ion-toolbar>
                    </ion-header>
                    <ion-content>
                        <ion-content class="ion-padding">
                            <div class="welcome-container">
                                <ion-text color="primary">
                                    <h1 class="animate-title">Welcome to Math Game! üéâ</h1>
                                </ion-text>
                                <p class="animate-text">
                                    Ready to test your math skills and conquer exciting puzzles? Dive into
                                    challenges like addition, subtraction, multiplication, and division.
                                    Beat high scores, and become the ultimate math champion! üßÆ‚ú®
                                </p>

                                <ion-button expand="block" color="success" onclick="alert('Game Started!')"
                                    class="animate-button">üéÆ
                                    Start Playing
                                </ion-button>
                            </div>
                        </ion-content>
                    </ion-content>
                </div>
            </ion-tab>
            <ion-tab tab="games">
                <ion-nav id="games-nav"></ion-nav>
                <div id="games-page">
                    <ion-header>
                        <ion-toolbar class="custom-toolbar">
                            <ion-title>Games</ion-title>
                        </ion-toolbar>
                    </ion-header>
                    <ion-content>
                        <ion-grid class="ion-align-items-center ion-justify-content-center game-container">
                            <ion-row>
                                <ion-col size="12" class="ion-text-center">
                                    <ion-text color="light">
                                        <h1 class="game-title">Select a Game to Play üéÆ</h1>
                                    </ion-text>
                                </ion-col>
                            </ion-row>

                            <ion-row class="button-row">
                                <!-- First Row of Buttons -->
                                <ion-col size="6" class="ion-text-center">
                                    <ion-button expand="block" class="game-btn addition-btn"
                                        onclick="startGame('addition')"><span>Addition</span>
                                    </ion-button>
                                </ion-col>
                                <ion-col size="6" class="ion-text-center">
                                    <ion-button expand="block" class="game-btn subtraction-btn"
                                        onclick="startGame('subtraction')"><span>Subtraction</span>
                                    </ion-button>
                                </ion-col>
                            </ion-row>

                            <ion-row class="button-row">
                                <!-- Second Row of Buttons -->
                                <ion-col size="6" class="ion-text-center">
                                    <ion-button expand="block" class="game-btn multiplication-btn"
                                        onclick="startGame('multiplication')"> <span>Multiplication</span>
                                    </ion-button>
                                </ion-col>
                                <ion-col size="6" class="ion-text-center">
                                    <ion-button expand="block" class="game-btn division-btn"
                                        onclick="startGame('division')"><span>Division</span>
                                    </ion-button>
                                </ion-col>
                            </ion-row>

                        </ion-grid>


                    </ion-content>
                </div>
            </ion-tab>
            <ion-tab tab="profile">
                <ion-nav id="profile-nav"></ion-nav>
                <div id="profile-page">
                    <ion-header>
                        <ion-toolbar class="custom-toolbar">
                            <ion-title>Profile</ion-title>
                        </ion-toolbar>
                    </ion-header>
                    <ion-content>
                        <ion-content class="profile-container">
                            <div class="profile-info">
                                <!-- Profile Image -->
                                <input type="file" id="profile-pic-upload" accept="image/*" style="display: none;"
                                    onchange="updateProfilePic()">
                                <img id="profile-pic" src="profile-pic.jpg" alt="Profile Picture" class="profile-image"
                                    onclick="triggerFileUpload()">

                                <!-- Username Section -->
                                <h2 id="username">
                                    <div class="username-container" onclick="toggleEditMode()">
                                        <input type="text" id="editable-username" value="User Name"
                                            oninput="updateUsername()" aria-label="Edit Username" class="username-input"
                                            maxlength="10" readonly />
                                    </div>
                                </h2>


                            </div>

                            <div class="high-scores-container">
                                <div class="high-scores-header">
                                    <h3>üèÜ Highest Scores</h3>
                                </div>
                                <div class="high-scores-list">
                                    <div class="high-score-item">
                                        <span class="score-label">Addition:</span>
                                        <span class="score-value" id="addition-high-score">0</span>
                                    </div>
                                    <div class="high-score-item">
                                        <span class="score-label">Subtraction:</span>
                                        <span class="score-value" id="subtraction-high-score">0</span>
                                    </div>
                                    <div class="high-score-item">
                                        <span class="score-label">Multiplication:</span>
                                        <span class="score-value" id="multiplication-high-score">0</span>
                                    </div>
                                    <div class="high-score-item">
                                        <span class="score-label">Division:</span>
                                        <span class="score-value" id="division-high-score">0</span>
                                    </div>
                                </div>
                            </div>

                        </ion-content>
                    </ion-content>
                </div>
            </ion-tab>

            <ion-tab-bar slot="bottom">
                <ion-tab-button tab="home">
                    <ion-icon name="home-outline"></ion-icon>
                    Home
                </ion-tab-button>
                <ion-tab-button tab="games">
                    <ion-icon name="game-controller-outline"></ion-icon>
                    Games
                </ion-tab-button>
                <ion-tab-button tab="profile">
                    <ion-icon name="person-circle-outline"></ion-icon>
                    Profile
                </ion-tab-button>
            </ion-tab-bar>
        </ion-tabs>

    </ion-app>
</body>

<script>
    // Initialize navigation for tabs
    document.querySelector('#home-nav').root = document.querySelector('#home-page');
    document.querySelector('#games-nav').root = document.querySelector('#games-page');
    document.querySelector('#profile-nav').root = document.querySelector('#profile-page');

    // Function to handle game selection
    function startGame(type) {
        if (type === 'addition') {
            window.location.href = 'addition-game.html';
        } else if (type === 'subtraction') {
            window.location.href = 'subtraction-game.html';
        } else if (type === 'multiplication') {
            window.location.href = 'multiplication-game.html';
        } else if (type === 'division') {
            window.location.href = 'division-game.html';
        } else {
            console.error('Invalid game type');
        }
    }

    window.onload = function () {

        // Load the high scores for each arithmetic operation from localStorage
        const additionHighScore = localStorage.getItem('additionHighScore') || 0;
        const subtractionHighScore = localStorage.getItem('subtractionHighScore') || 0;
        const multiplicationHighScore = localStorage.getItem('multiplicationHighScore') || 0;
        const divisionHighScore = localStorage.getItem('divisionHighScore') || 0;

        // Update the high score display
        document.getElementById('addition-high-score').textContent = additionHighScore;
        document.getElementById('subtraction-high-score').textContent = subtractionHighScore;
        document.getElementById('multiplication-high-score').textContent = multiplicationHighScore;
        document.getElementById('division-high-score').textContent = divisionHighScore;
    };

    // Get username from localStorage or use a default value
    const storedUsername = localStorage.getItem('username') || 'User Name';
    document.getElementById('editable-username').value = storedUsername;

    // Function to update username in localStorage
    function updateUsername() {
        const newUsername = document.getElementById('editable-username').value;
        localStorage.setItem('username', newUsername);
    }

    // Function to toggle between editable and non-editable mode when the username is clicked
    function toggleEditMode() {
        const inputField = document.getElementById('editable-username');
        const currentValue = inputField.value;

        // If the input is not in edit mode (i.e., it‚Äôs a static text), make it editable
        if (inputField.readOnly) {
            inputField.readOnly = false;
            inputField.focus();
        } else {
            // If already in edit mode, save the value and set it to readonly
            inputField.readOnly = true;
            localStorage.setItem('username', currentValue);
        }
    }



</script>

</html>